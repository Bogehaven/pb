# 更新日志

## 2020-09-22
- 添加网页实时监控
### 二、使用方法：
- 更新程序和插件
- 安装flask包
- UserConfig.py新增配置项 enable_monitor，表示是否启用监控
- 在程序入口位置添加监控启动代码，参考QS.py

## 2020-09-20
### 一、更新说明：
- 色块从125增加至150
- 增加宠物支持：lib.unit.Pet
- 增加背包是否具有某个物品的检测:lib.bag.BagItem.hasItem2
- 增加姿态支持，如战士3姿态，小德多姿态，盗贼是否潜行
- 修复在副本和战场中色块无颜色的bug
### 二、使用方法：
- 更新程序和插件

## 2020-09-18  调整插件像素块大小
### 一、更新说明：
- 像素块大小缩小为原来的一半，如果更新了插件，UserConfig.distance 和 UserConfig.start_pos需要重新设置下，
基本上缩小为原来的一半就对了，如果不对需要自己重新校准一下。
- 4K的大小如下：
    distance = 11.93
    start_pos = PixelPoint(6, 52)
- 1920*1080大小如下：
    distance = 5.96
    start_pos = PixelPoint(3, 25)    


## 2020-09-17 添加NpcNameFinder增强寻怪
### 一、更新说明：
- NpcNameFinder使用C#开发，它可使用鼠标点击屏幕上的怪选怪，配合tab增加寻怪效率
### 二、使用方法：
- 1：游戏内设置：界面设置-名字-敌对单位 勾上，保证怪物的头上能显示出红名
- 2：更新程序
- 3：python安装pythonnet包
- 4：UserConfig.py添加配置项：use_name_finder = True 为True表示开该改功能配合tab，为False表示关闭该功能，只是用tabl寻怪

## 2020-09-15 添加施法助手和逃脱增强
### 一、更新说明：
- 新增施法助手CastingHander：功能：保证读条与引导技能完成并且不浪费时间。
之前使用spell.castSpell(xxx)之后往往需要sleep一段时间，这段时间不好把握，
因为施法条会被打退，比如寒冰箭2.5秒，如果sleep2.5秒的话，被怪打退就放不出来，
sleep 3秒往往又浪费0.5秒。另一种是引导类技能，如绷带，
以前办法是绷带8秒内每秒检测一次是否进入战斗，也是比较笨的办法。
加入施法助手后，什么都不需要干了，sleep也不需要了
（当然两个顺发技能之间的1.5秒公共cd还是要sleep的），
直接使用spell.castSpell(xxx)即可，支持施法类和引导类技能。
- 寻路卡顿逃脱强化：之前的寻路已经具备一定的防卡功能，小的障碍物都能绕过，但是遇到大型障碍物
就不行了，比如跑尸时魂和尸体之间隔着一颗巨大的树（如安戈洛），或者隔着一座大房子一个大山包，
可恶的是它还往里凹，以前进去就绕不出来了，现在强化后测试都能出来。
### 二、使用方法：
- 更新插件和程序即可，同时去掉自己战斗文件中spell.castSpell(xxx)后面多余的sleep。


## 2020-09-13 支持路点寻怪策略，支持上马寻怪
### 一、更新说明：
- 使用这种方式，寻怪时将按照既定的路点前进，搜寻路点周围在tab范围内的怪。
- 寻怪路点最好录制成首尾闭环的，因为到最后一个路点后会返回第一个路点从新开始，如果是闭环的 ，可以节省跑路时间。
- 对于各种情况的打怪区域，可以根据怪物刷新速度，怪物密度，中间是否有障碍物，是否有不想去的地方等灵活录制寻怪路点，将不需要去的地方排除，可以大幅提高寻怪效率，QS.py和55号配置文件有完整的实现，可参考。 
### 二、使用方法：
- 1：Userconfig中设置 find_enemy_strategy = 4
- 2：动态配置文件中新增：finder_path，用于存放寻怪路点，路点可用 record.bat finder命令录制，一次只会录制一个点，需要从cmd复制到finder_path中
- 3：使用上马寻怪需要在自己战斗文件中实现上马方法：mounted()
